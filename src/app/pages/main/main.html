<main class="flex flex-col items-center justify-center h-full mt-10">
	<div class="flex flex-col items-start justify-center h-full">
		<div class="flex flex-row justify-start">
			<div class="w-[3px] bg-yellow-400"></div>
			<h2 class="font-bold text-white ml-1.5">Top 10 on IMDB this week</h2>
		</div>

		<div class="relative mt-4 w-full">
			<!-- Left Navigation Button  movies > 6 -->
			<button 
				*ngIf="movies.length > 6"
				id="scrollLeft" 
				class="absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-black/80 hover:bg-black text-white rounded-full p-2 transition-all duration-200 hover:scale-110 shadow-lg opacity-0 invisible"
				(click)="scrollCarousel('left')"
			>
				<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
					<path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
				</svg>
			</button>

			<!-- Right Navigation Button movies > 6 -->
			<button 
				*ngIf="movies.length > 6"
				id="scrollRight" 
				class="absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-black/80 hover:bg-black text-white rounded-full p-2 transition-all duration-200 hover:scale-110 shadow-lg"
				(click)="scrollCarousel('right')"
			>
				<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
					<path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/>
				</svg>
			</button>

			<!-- Movie Cards Container -->
			<div 
				id="movieCarousel" 
				class="flex flex-row gap-4 scroll-smooth overflow-x-hidden"
				[class.flex-wrap]="movies.length <= 6"
				[class.overflow-x-hidden]="movies.length > 6"
				[style.width]="movies.length > 6 ? 'calc(6 * (168px + 16px))' : 'auto'"
				style="scroll-behavior: smooth;"
			>
				<!-- watchlist card -->
				<div *ngFor="let movie of movies" class="flex-shrink-0" style="min-width: 168px;">

					<div class="flex flex-col bg-neutral-800 rounded-lg relative overflow-hidden">
						<!-- IMDb-style Ribbon -->
						<div class="absolute top-0 left-0 z-10 cursor-pointer group">
							<svg class="w-6 h-8" viewBox="0 0 24 34" xmlns="http://www.w3.org/2000/svg" role="presentation">
								<polygon class="fill-zinc-800/70 group-hover:fill-zinc-500 transition-colors duration-200" points="24 0 0 0 0 32 12.2436611 26.2926049 24 31.7728343"></polygon>
								<polygon class="fill-zinc-800/70 group-hover:fill-zinc-500 transition-colors duration-200" points="24 31.7728343 24 33.7728343 12.2436611 28.2926049 0 34 0 32 12.2436611 26.2926049"></polygon>
							</svg>
							<!-- Plus icon inside ribbon -->
							<div class="absolute top-1 left-0 w-full flex justify-center">
								<svg class="w-4 h-4 text-white group-hover:text-black transition-colors duration-200" fill="currentColor" viewBox="0 0 20 20">
									<path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path>
								</svg>
							</div>
						</div>
						<div class="mv-logo">
							<a [routerLink]="['/movie-detail', movie.id]">
								<img class="w-[168px]" [src]="movie.imgUrl" />
							</a>
						</div>
						<div class="ml-2">
							<!-- star  -->
							<div class="flex items-center mt-1 text-yellow-400 text-lg">
								<svg class="fill-yellow-400" width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
									<path d="M12 20.1l5.82 3.682c1.066.675 2.37-.322 2.09-1.584l-1.543-6.926 5.146-4.667c.94-.85.435-2.465-.799-2.567l-6.773-.602L13.29.89a1.38 1.38 0 0 0-2.581 0l-2.65 6.53-6.774.602C.052 8.126-.453 9.74.486 10.59l5.147 4.666-1.542 6.926c-.28 1.262 1.023 2.26 2.09 1.585L12 20.099z" />
								</svg>
								<div class="ml-1 text-white mt-1">{{ movie.rating }}</div>
								
								<!-- Alternative Compact Version -->
								<button class="group inline-flex items-center justify-center px-6 py-2 bg-transparent rounded-sm hover:bg-opacity-10 hover:rounded-md hover:bg-gray-400 hover:border-gray-bg-gray-400 transition-all duration-200 cursor-pointer" data-testid="rate-button-compact">
								<svg 
										xmlns="http://www.w3.org/2000/svg" 
										width="18" 
										height="18" 
										class="text-blue-400 group-hover:text-white transition-colors duration-200" 
										viewBox="0 0 24 24" 
										fill="currentColor" 
										role="presentation"
								>
										<path d="M22.724 8.217l-6.786-.587-2.65-6.22c-.477-1.133-2.103-1.133-2.58 0l-2.65 6.234-6.772.573c-1.234.098-1.739 1.636-.8 2.446l5.146 4.446-1.542 6.598c-.28 1.202 1.023 2.153 2.09 1.51l5.818-3.495 5.819 3.509c1.065.643 2.37-.308 2.089-1.51l-1.542-6.612 5.145-4.446c.94-.81.45-2.348-.785-2.446zm-10.726 8.89l-5.272 3.174 1.402-5.983-4.655-4.026 6.141-.531 2.384-5.634 2.398 5.648 6.14.531-4.654 4.026 1.402 5.983-5.286-3.187z"></path>
								</svg>
								</button>
							</div>
							<div class="text-white text-md mt-4 font-bold break-words whitespace-normal w-[160px] h-[44px] leading-tight overflow-hidden line-clamp-2">
								{{ movie.id }}. {{ movie.title }}
							</div>
						</div>
						<div class="flex flex-col justify-center items-center">
							<div class="mt-8 w-4/5">
								<button class="w-full rounded-full bg-white/10 text-blue-500 border border-white/30 font-bold text-lg py-2 transition-all hover:bg-white/20 hover:text-white hover:border-white/50 hover:scale-105">
									+ Watchlist
								</button>
							</div>
							<!-- trailer  -->
							<div class="flex items-center justify-center text-white gap-2 text-lg pb-8 transition-all mt-4 hover:scale-105 hover:cursor-pointer">
								<a href="moana.html" class="flex items-center">
									<svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
										<path d="M8 5v14l11-7L8 5z" />
									</svg>
									Trailer
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>

<section class="flex flex-col items-start justify-center h-full mt-8 mb-10">
	<div class="flex flex-row justify-start">
		<div class="w-[3px] bg-yellow-400"></div>
			<h2 class="font-bold text-white ml-1.5">Born to day ></h2>
		</div>
		<h4 class="text-zinc-500 ml-1.5">People born on August</h4>
	<div class="relative mt-4 w-full">
		<div 
			class="flex flex-row gap-4 scroll-smooth overflow-x-hidden"
			[class.flex-wrap]="people.length <= 6"
			[class.overflow-x-hidden]="people.length > 6"
			[style.width]="people.length > 6 ? 'calc(6 * (168px + 16px))' : 'auto'"
			style="scroll-behavior: smooth;"
		>
			<div *ngFor="let person of people" class="flex-shrink-0" style="min-width: 168px;">
				<div class="flex flex-col relative overflow-hidden">
					<div class="flex flex-col items-center">
						<a [routerLink]="['/person', person.id]">
							<img class="w-[100px] rounded-full" [src]="person.profile" />
						</a>
						<h2 class="text-zinc-200 mt-2">{{ person.name }}</h2>
						<h3 class="text-zinc-400 mt-1">{{ person.age }}</h3>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

