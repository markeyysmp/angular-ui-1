<!-- ปุ่ม Back อยู่นอกกล่อง -->
<div class="px-6 mt-6">
  <button class="text-yellow-400 text-2xl font-bold" onclick="history.back()">
    &lt; Back
  </button>
</div>

<!-- กล่องหลักของเนื้อหา -->
<section class="max-w-6xl bg-neutral-900 text-white rounded-xl shadow-lg mt-4 mx-6 p-6 flex flex-col gap-6">
  <div class="font-bold">
    <div class="flex justify-between items-center border-b border-white/20 pb-2">
      <h1 class="text-3xl">{{ currentMovie.title }}
        <div class="text-[12px] text-white/50 mt-1">2025 •  13 • 2h 9m</div>
      </h1>  
      <div class="flex gap-10 items-start">
        <!-- IMDB RATING -->
        <button class="flex flex-col items-center  rounded-md px-3 py-2 hover:bg-neutral-700 transition" type="button">
          <h6 class="text-sm text-zinc-400 font-bold mb-1">IMDB RATING</h6>
          <div class="flex items-end gap-1">
            <svg class="fill-yellow-400" width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M12 20.1l5.82 3.682c1.066.675 2.37-.322 2.09-1.584l-1.543-6.926 5.146-4.667c.94-.85.435-2.465-.799-2.567l-6.773-.602L13.29.89a1.38 1.38 0 0 0-2.581 0l-2.65 6.53-6.774.602C.052 8.126-.453 9.74.486 10.59l5.147 4.666-1.542 6.926c-.28 1.262 1.023 2.26 2.09 1.585L12 20.099z" />
            </svg>
            <span class="text-lg font-bold">{{ currentMovie.rating }} 
              <span class="font-semibold text-neutral-500 text-[16px]">/10</span>
            </span>
          </div>
          <h6 class="text-[10px] text-zinc-400 font-semibold ">{{ currentMovie.ratingAmount }}K</h6>
        </button>

        <!-- YOUR RATING -->
        <button class="flex flex-col items-center rounded-md px-3 py-2 hover:bg-neutral-700 transition" type="button">
          <h6 class="text-sm text-zinc-400 font-bold mb-1">YOUR RATING</h6>
          <div class="flex items-end gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" class="text-blue-400" viewBox="0 0 24 24" fill="currentColor" role="presentation">
              <path d="M22.724 8.217l-6.786-.587-2.65-6.22c-.477-1.133-2.103-1.133-2.58 0l-2.65 6.234-6.772.573c-1.234.098-1.739 1.636-.8 2.446l5.146 4.446-1.542 6.598c-.28 1.202 1.023 2.153 2.09 1.51l5.818-3.495 5.819 3.509c1.065.643 2.37-.308 2.089-1.51l-1.542-6.612 5.145-4.446c.94-.81.45-2.348-.785-2.446zm-10.726 8.89l-5.272 3.174 1.402-5.983-4.655-4.026 6.141-.531 2.384-5.634 2.398 5.648 6.14.531-4.654 4.026 1.402 5.983-5.286-3.187z" />
            </svg>
            <span class="text-sm">Rate</span>
          </div>
        </button>
        
        <!-- POPULARITY -->
        <button class="flex flex-col items-center rounded-md px-3 py-2 hover:bg-neutral-700 transition" type="button">
          <h6 class="text-xs text-zinc-400 font-bold mb-1">POPULARITY</h6>
          <div class="flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" class="fill-red-600" viewBox="0 0 24 24" fill="currentColor" role="presentation">
              <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8 0-1.4.4-2.8 1-3.9L8.4 12c.4.4 1 .4 1.4 0l1.4-1.5 2.4 2.6-1.4 1.4c-.3.3-.1.9.4.9h4.3c.3 0 .5-.2.5-.5v-4.3c0-.4-.5-.7-.9-.3L15 11.6l-3.1-3.3c-.4-.4-1-.4-1.4 0L9.2 9.8 6.3 6.4C7.7 4.9 9.7 4 12 4c4.4 0 8 3.6 8 8s-3.6 8-8 8z"></path>
            </svg>
            <span class="text-lg font-bold">3</span>
          </div>
        </button>
      </div>
    </div>
  </div>


  <!-- รูปภาพ + วิดีโอ -->
  <div class="flex flex-col lg:flex-row gap-1 items-stretch">
    <!-- ภาพโปสเตอร์ -->
    <div class="relative flex-shrink-0 w-[280px]">
      <!-- SVG ซ้อนบนซ้าย -->
      <svg class="absolute top-0 left-0 z-10 w-6 h-8" viewBox="0 0 24 34" xmlns="http://www.w3.org/2000/svg" role="presentation">
        <polygon class="fill-zinc-800/70 group-hover:fill-zinc-500 transition-colors duration-200"
          points="24 0 0 0 0 32 12.2436611 26.2926049 24 31.7728343"></polygon>
        <polygon class="fill-zinc-800/70 group-hover:fill-zinc-500 transition-colors duration-200"
          points="24 31.7728343 24 33.7728343 12.2436611 28.2926049 0 34 0 32 12.2436611 26.2926049"></polygon>
      </svg>

      <!-- ไอคอน + ซ้อนบน polygon -->
      <svg class="absolute top-1 left-1 z-20 w-4 h-4 text-white group-hover:text-black transition-colors duration-200"
        fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
          clip-rule="evenodd" />
      </svg>
      <!-- รูปภาพ -->
      <img [src]="currentMovie.imgUrl" [alt]="currentMovie.title" class="h-full w-full object-cover rounded-md shadow-md" />
    </div>

    <!-- วิดีโอ -->
  <div class="flex-grow aspect-video">
    <video controls class="w-full h-full object-cover rounded-md shadow-lg">
      <source [src]="currentMovie.videoUrls" type="video/mp4" />
    </video>
  </div>

    <div class="flex flex-col flex-1 w-full">
      <div class="flex flex-col gap-2 h-full">
        <button class="flex items-center justify-center px-4 py-2 h-full w-full bg-zinc-700 hover:bg-zinc-600 text-white rounded-md border border-zinc-600 hover:border-zinc-500 transition-all duration-200 cursor-pointer">
          <div class="flex flex-col items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="170" height="48" class="text-white" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1zm17-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l5.47 4.1c.27.2.27.6 0 .8L12 14.5z" />
            </svg>
            <span class="text-sm font-medium">10 Videos</span>
          </div>
        </button>

        <button class="flex items-center justify-center px-4 py-2 h-full w-full bg-zinc-700 hover:bg-zinc-600 text-white rounded-md border border-zinc-600 hover:border-zinc-500 transition-all duration-200 cursor-pointer">
          <div class="flex flex-col items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="170" height="48" class="text-white" viewBox="0 0 24 24" fill="currentColor">
              <path fill="none" d="M0 0h24v24H0V0z" />
              <path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-10.6-3.47l1.63 2.18 2.58-3.22a.5.5 0 0 1 .78 0l2.96 3.7c.26.33.03.81-.39.81H9a.5.5 0 0 1-.4-.8l2-2.67c.2-.26.6-.26.8 0zM2 7v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z" />
            </svg>
            <span class="text-sm font-medium">99+ Photos</span>
          </div>
        </button>
      </div>
    </div>
  </div>
  <!-- Movie Info Box -->
  <div class="bg-neutral-900 text-white rounded-xl text-sm space-y-3">
    <!-- Tags -->
    <div class="flex gap-2">
      <button *ngFor="let type of currentMovie.movietype"
        class="bg-neutral-800 hover:bg-neutral-700 text-white px-3 py-1 rounded-full text-xs font-medium transition">
        {{ type }}
      </button>
    </div>


    <!-- Plot -->
    <p class="text-white/80">
      {{ currentMovie.description }} 
    </p>
							<!-- <a [routerLink]="['/movie-detail', movie.id]">
								<img class="w-[200px]" [src]="movie.imgUrl" />
							</a> -->
    <!-- Director -->
    <div class="border-t border-white/10 pt-3">
      <span class="font-semibold">Director</span>
      <ng-container *ngIf="directorWithId">
        <a *ngIf="directorWithId.id !== null" 
          class="ml-2 text-blue-400 hover:underline cursor-pointer"
          [routerLink]="['/actors', directorWithId.id]">
          {{ directorWithId.name }}
        </a>
        <span *ngIf="directorWithId.id === null" class="ml-2 text-gray-400">
          {{ directorWithId.name }}
        </span>
      </ng-container>
    </div>

    <!-- Writers -->
    <div>
      <span class="font-semibold">Writers</span>
      <ng-container *ngFor="let writer of writtersWithId; let i = index">
        <a *ngIf="writer.id !== null" class="ml-2 text-blue-400 hover:underline cursor-pointer"
          [routerLink]="['/actors', writer.id]">{{ writer.name }}
        </a>
        <span *ngIf="writer.id === null" class="ml-2 text-gray-400">{{ writer.name }}</span>
        <span *ngIf="i < writtersWithId.length - 1"> ·</span>
      </ng-container>
    </div>

    <!-- Stars -->
    <div>
      <span class="font-semibold">Stars</span>
      <ng-container *ngFor="let star of starsWithId; let i = index">
        <a *ngIf="star.id !== null" 
          class="ml-2 text-blue-400 hover:underline cursor-pointer"
          [routerLink]="['/actors', star.id]">
          {{ star.name }}
        </a>
        <span *ngIf="star.id === null" class="ml-2 text-gray-400">
          {{ star.name }}
        </span>
        <span *ngIf="i < starsWithId.length - 1"> ·</span>
      </ng-container>
    </div>

  </div>

</section>
